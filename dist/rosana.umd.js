(function(l,c){typeof exports=="object"&&typeof module<"u"?c(exports):typeof define=="function"&&define.amd?define(["exports"],c):(l=typeof globalThis<"u"?globalThis:l||self,c(l.rosana={}))})(this,function(l){"use strict";const c=class{constructor(){this.element=null,this.elementClasses=[],this.eventListeners=[]}addChild(e){return e instanceof c&&this.element?this.element.appendChild(e.element):console.error("Mounted Child Is Not A Rosana Component"),this}set alignment(e){e?$(this.element,e):console.log("Alignment Options Undefined")}batch(e){return Object.entries(e).forEach(([n,s])=>{requestAnimationFrame(()=>{this.element&&(this.element[n]=s)})}),this}on(e,n){var s;return(s=this.element)==null||s.addEventListener(e,n),this.eventListeners.push([e,n]),this}css(e){var s;const n=o(e);return(s=this.element)==null||s.classList.add(n),this.elementClasses.push(n),this}destroyChild(e){var n;return e instanceof c?(e.eventListeners.forEach(([s,t])=>{var i;(i=e.element)==null||i.removeEventListener(s,t)}),(n=e.element)==null||n.remove()):console.error("Child Is Not A Rosana Component"),this}show(){this.css({visibility:"visible"})}hide(){this.css({visibility:"hidden"})}set gone(e){this.css({display:e?"none !important":"block",visibility:e?"hidden":"visible"})}};let v,x=0;function w(){return`rosana-id-${v++}`}function N(){return`rosana-class-${x++}`}const o=(e,...n)=>{const s=N(),t=document.styleSheets[0];let i="",a=[],g=[];const y=(f,u)=>{let d="";return Object.entries(f).forEach(([r,m])=>{if(typeof m=="object")if(r.startsWith("@"))g.push({media:r,selector:u,styles:m});else if(r.startsWith("&:")){const q=r.replace("&",u);a.push({selector:q,styles:m})}else a.push({selector:`${u} ${r}`,styles:m});else d+=`${r.replace(/([A-Z])/g,"-$1").toLowerCase()}: ${m}; `}),d};return typeof e=="object"&&!Array.isArray(e)?i=y(e,`.${s}`):Array.isArray(e)&&(i=e.reduce((f,u,d)=>f+u+(n[d]||""),"")),i&&t.insertRule(`.${s} { ${i} }`,t.cssRules.length),a.forEach(({selector:f,styles:u})=>{const d=y(u,f);if(d){const r=`${f} { ${d} }`;t.insertRule(r,t.cssRules.length)}}),g.forEach(({media:f,selector:u,styles:d})=>{const r=y(d,u);if(r){const m=`${f} { ${u} { ${r} } }`;t.insertRule(m,t.cssRules.length)}}),s};let R=["noscrollbar","scrollxy","scrollx","scrolly","top","bottom","left","right","horizontal","vertical","vcenter","center","fillxy","fillx","filly"];const $=(e,n)=>{const s={noscrollbar:()=>{e.classList.add("noscrollbar")},fillxy:()=>{let t=o({width:"100%",height:window.innerHeight+"px"});e.classList.add(t)},fillx:()=>{let t=o({width:"100%"});e.classList.add(t)},filly:()=>{let t=o({height:window.innerHeight+"px"});e.classList.add(t)},scrollxy:()=>{let t=o({overflow:"auto"});e.classList.add(t)},scrollx:()=>{let t=o({overflowX:"auto"});e.classList.add(t)},scrolly:()=>{let t=o({overflowY:"auto"});e.classList.add(t)},left:()=>{let t=o({display:"flex",justifyContent:"flex-start"});e.classList.add(t)},right:()=>{let t=o({display:"flex",justifyContent:"flex-end"});e.classList.add(t)},center:()=>{let t=o({display:"flex",alignItems:"center",justifyContent:"center"});e.classList.add(t)},vcenter:()=>{let t=o({display:"flex",justifyContent:"center",alignItems:"center"});e.classList.add(t)},bottom:()=>{let t=o({display:"flex",alignItems:"flex-end"});e.classList.add(t)},top:()=>{let t=o({display:"flex",alignItems:"flex-start"});e.classList.add(t)},horizontal:()=>{let t=o({display:"flex",flexDirection:"row !important"});e.classList.add(t)},vertical:()=>{let t=o({display:"flex",flexDirection:"column"});e.classList.add(t)}};n.toLowerCase().replace(/\s/g,"").split(",").forEach(t=>{R.includes(t)?s[t]():console.error(`Unknown option: ${t}`)})};function _(e,n,s){s&&$(e,s);let t=n.toLowerCase();if(t=="linear"){let i=o({display:"inline-flex",position:"relative !important",flexDirection:"column !important"});e.classList.add(i)}else if(t=="absolute"){let i=o({display:"flex"});e.classList.add(i)}else console.error("Unknown Layout ",e)}let A=class extends c{constructor(e,n){super(),this.element=document.createElement("div"),this.element.id=w(),this.element.type="Layout",e&&_(this.element,e,n)}},j=class extends c{constructor(e,n,s){if(super(),this.element=document.createElement(e),this.element.id=w(),Object.entries(s).forEach(([t,i])=>{requestAnimationFrame(()=>{this.element[t]=i})}),n instanceof c)n.addChild(this);else{console.error("No Parent For Component To Attach To.");return}}};const T=function(e="linear",n="fillxy, vcenter"){return new A(e,n)},E=function(e,n,s={}){return new j(e,n,s)},z=function(e){return{_rootComponent:e,_plugins:[],mount:function(s){const t=document.querySelector(s);if(!t){console.error(`No element found for selector "${s}"`);return}document.body.style.margin="0",document.body.style.width="100%",t.innerHTML="";const i=this._rootComponent;return t.appendChild(i.element),this},use(s){return typeof s._install=="function"&&(s._install(this),this._plugins.push(s)),this}}},L=function(e=null){let n=e,s=[];const t=function(i){for(let a of s)a(n)};return{set value(i){n=i,t()},get value(){return n},subscribe:i=>{s.push(i)}}},S=function(e={}){let n={...e};const s=new Set;return{set(t,i){n[t]=i,s.forEach(a=>a(n))},get(t){return n[t]},subscribe(t){return s.add(t),()=>s.delete(t)}}},b=(navigator.language||navigator.userLanguage).split("-")[0];let p={},h;const F=async function(e=b,n){h=L(e);const s=await fetch(n);if(!s.ok){console.log("Translation File Not Loaded");return}const t=await s.json();p={...p,...t}},I=function(e){h.value=e};let C=function(e,n){if(!h||!h.value)return e;let t=(p[h.value]||p[b]||{})[e]||e;return n&&Object.keys(n).forEach(i=>{t=t.replace(`{${i}}`,n[i])}),t};c.prototype.localizedText=async function(e,n){if(!h||!h.value)return e;const s=await C(e,n);this.element.textContent=s,h.subscribe(async()=>{const t=await C(e,n);this.element.textContent=t})};const H=function(e){return{routes:e,currentRoute:null,_init:function(){return window.location.hash?this._handleHashChange():window.location.hash="#index",window.onhashchange=this._handleHashChange.bind(this),this},_install:function(s){this._init(),s.router=this},_render:function(){const s=document.querySelector("#app");return s&&(s.innerHTML="",this.currentRoute&&this.currentRoute.component?s.appendChild(this.currentRoute.component.element):console.error("No valid component found for route")),this},_handleHashChange:function(){const s=window.location.hash.slice(1)||"/",t=this.routes.find(i=>i.path===s);t?(this.currentRoute=t,this._render()):console.error(`Route not found: ${s}`)},navigate:function(s){const t=this.routes.find(i=>i.path===s);return t?(this.currentRoute=t,window.location.hash=s,this._render()):console.error(`Route not found: ${s}`),this},back:function(){history.back()},forward:function(){history.forward()}}},O=function(e,n,s){if(n===void 0||s===void 0){console.error("showIF not called, one of the elements is undefined");return}e?n.show():n.hide(),e?s.hide():s.show()},D=(e,n,s)=>{const t=[],i=()=>t.forEach(a=>a());if(n.type==="Layout"&&s.type==="Layout"){if(!s.hasChild(n)){console.error(`FallBack is not a child of ${s}`);return}ap.mount(n);const a=()=>{n.show(),s.hide()},g=()=>{s.show(),n.hide()};a(),Promise.resolve(e()).then(()=>{g(),i()}).catch(()=>a())}else console.error("suspense must be used with both containers as a layout");return{effects:a=>t.push(a)}};l.$component=E,l.$createApp=z,l.$hashRouter=H,l.$layout=T,l.$localize=F,l.$setLanguage=I,l.$showIF=O,l.$signal=L,l.$store=S,l.$suspense=D,Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=rosana.umd.js.map
