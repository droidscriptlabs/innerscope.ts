(function(r,u){typeof exports=="object"&&typeof module<"u"?u(exports):typeof define=="function"&&define.amd?define(["exports"],u):(r=typeof globalThis<"u"?globalThis:r||self,u(r.reckt={}))})(this,function(r){"use strict";class u{constructor(){this.element=null,this.elementClasses=[],this.eventListeners=[]}addChild(n){return n instanceof u&&this.element?this.element.appendChild(n.element):console.error("Mounted Child Is Not A Reckt Component"),this}batch(n){return Object.entries(n).forEach(([t,e])=>{requestAnimationFrame(()=>{this.element&&(this.element[t]=e)})}),this}on(n,t){var e;return(e=this.element)==null||e.addEventListener(n,t),this.eventListeners.push([n,t]),this}css(n){var e;const t=l(n);return(e=this.element)==null||e.classList.add(t),this.elementClasses.push(t),this}destroyChild(n){var t;return n instanceof u?(n.eventListeners.forEach(([e,i])=>{var a;(a=n.element)==null||a.removeEventListener(e,i)}),(t=n.element)==null||t.remove()):console.error("Child Is Not A Reckt Component"),this}show(){this.css({visibility:"visible"})}hide(){this.css({visibility:"hidden"})}set gone(n){this.css({display:n?"none !important":"block",visibility:n?"hidden":"visible"})}childrenMargins(){}}let v=0,x=0;function w(){return`rekct-id-${v++}`}function N(){return`rekct-class-${x++}`}const l=(s,...n)=>{const t=N(),e=document.styleSheets[0]||document.head.appendChild(document.createElement("style")).sheet;let i="",a=[],y=[];const p=(h,o)=>{let c="";return Object.entries(h).forEach(([d,m])=>{if(typeof m=="object")if(d.startsWith("@"))y.push({media:d,selector:o,styles:m});else if(d.startsWith("&:")){const P=d.replace("&",o);a.push({selector:P,styles:m})}else a.push({selector:`${o} ${d}`,styles:m});else c+=`${d.replace(/([A-Z])/g,"-$1").toLowerCase()}: ${m}; `}),c};return typeof s=="object"&&!Array.isArray(s)?i=p(s,`.${t}`):Array.isArray(s)&&(i=s.reduce((h,o,c)=>h+o+(n[c]||""),"")),i&&e.insertRule(`.${t} { ${i} }`,e.cssRules.length),a.forEach(({selector:h,styles:o})=>{const c=p(o,h);if(c){const d=`${h} { ${c} }`;e.insertRule(d,e.cssRules.length)}}),y.forEach(({media:h,selector:o,styles:c})=>{const d=p(c,o);if(d){const m=`${h} { ${o} { ${d} } }`;e.insertRule(m,e.cssRules.length)}}),t};let R=["noscrollbar","scrollxy","scrollx","scrolly","top","bottom","left","right","horizontal","vertical","vcenter","center","fillxy","fillx","filly"];const E=(s,n)=>{const t={noscrollbar:()=>{s.classList.add("noscrollbar")},fillxy:()=>{let e=l({width:"100%",height:window.innerHeight+"px"});s.classList.add(e)},fillx:()=>{let e=l({width:"100%"});s.classList.add(e)},filly:()=>{let e=l({height:window.innerHeight+"px"});s.classList.add(e)},scrollxy:()=>{let e=l({overflow:"auto"});s.classList.add(e)},scrollx:()=>{let e=l({overflowX:"auto"});s.classList.add(e)},scrolly:()=>{let e=l({overflowY:"auto"});s.classList.add(e)},left:()=>{let e=l({display:"flex",justifyContent:"flex-start"});s.classList.add(e)},right:()=>{let e=l({display:"flex",justifyContent:"flex-end"});s.classList.add(e)},center:()=>{let e=l({display:"flex",alignItems:"center",justifyContent:"center"});s.classList.add(e)},vcenter:()=>{let e=l({display:"flex",justifyContent:"center",alignItems:"center"});s.classList.add(e)},bottom:()=>{let e=l({display:"flex",alignItems:"flex-end"});s.classList.add(e)},top:()=>{let e=l({display:"flex",alignItems:"flex-start"});s.classList.add(e)},horizontal:()=>{let e=l({display:"flex",flexDirection:"row !important"});s.classList.add(e)},vertical:()=>{let e=l({display:"flex",flexDirection:"column"});s.classList.add(e)}};n.toLowerCase().replace(/\s/g,"").split(",").forEach(e=>{R.includes(e)?t[e]():console.error(`Unknown option: ${e}`)})};function _(s,n,t){t&&E(s,t);let e=n.toLowerCase();if(e=="linear"){let i=l({display:"inline-flex",position:"relative !important",flexDirection:"column !important"});s.classList.add(i)}else if(e=="absolute"){let i=l({display:"flex"});s.classList.add(i)}else console.error("Unknown Layout ",s)}let j=class extends u{constructor(s,n){super(),this.element=document.createElement("div"),this.element.id=w(),this.element.type="Layout",s&&_(this.element,s,n)}},A=class extends u{constructor(s,n,t){if(super(),this.element=document.createElement(s),this.element.id=w(),Object.entries(t).forEach(([e,i])=>{requestAnimationFrame(()=>{this.element[e]=i})}),n instanceof u)n.addChild(this);else{console.error("No Parent For Component To Attach To.");return}}};const T=function(s="linear",n="fillxy, vcenter"){return new j(s,n)},z=function(s,n,t={}){return new A(s,n,t)},I=function(s){return{_rootComponent:s,_plugins:[],mount:function(t){const e=document.querySelector(t);if(!e){console.error(`No element found for selector "${t}"`);return}document.body.style.margin="0",document.body.style.width="100%",e.innerHTML="";const i=this._rootComponent;return e.appendChild(i.element),this},use(t){return typeof t._install=="function"&&(t._install(this),this._plugins.push(t)),this}}},$=function(s=null){let n=s,t=[];const e=function(i){for(let a of t)a(n)};return{set value(i){n=i,e()},get value(){return n},subscribe:i=>{t.push(i)}}},F=function(s={}){let n={...s};const t=new Set;return{set(e,i){n[e]=i,t.forEach(a=>a(n))},get(e){return n[e]},subscribe(e){return t.add(e),()=>t.delete(e)}}},L=(navigator.language||navigator.userLanguage).split("-")[0];let g={},f;const H=async function(s=L,n){f=$(s);const t=await fetch(n);if(!t.ok){console.log("Translation File Not Loaded");return}const e=await t.json();g={...g,...e}},O=function(s){f.value=s};let C=function(s,n){if(!f||!f.value)return s;let e=(g[f.value]||g[L]||{})[s]||s;return n&&Object.keys(n).forEach(i=>{e=e.replace(`{${i}}`,n[i])}),e};u.prototype.localizedText=async function(s,n){if(!f||!f.value)return s;const t=await C(s,n);this.element.textContent=t,f.subscribe(async()=>{const e=await C(s,n);this.element.textContent=e})};const S=function(s){return{routes:s,currentRoute:null,_init:function(){return window.location.hash?this._handleHashChange():window.location.hash="#index",window.onhashchange=this._handleHashChange.bind(this),this},_install:function(t){this._init(),t.router=this},_render:function(){const t=document.querySelector("#app");return t&&(t.innerHTML="",this.currentRoute&&this.currentRoute.component?t.appendChild(this.currentRoute.component.element):console.error("No valid component found for route")),this},_handleHashChange:function(){const t=window.location.hash.slice(1)||"/",e=this.routes.find(i=>i.path===t);e?(this.currentRoute=e,this._render()):console.error(`Route not found: ${t}`)},navigate:function(t){const e=this.routes.find(i=>i.path===t);return e?(this.currentRoute=e,window.location.hash=t,this._render()):console.error(`Route not found: ${t}`),this},back:function(){history.back()},forward:function(){history.forward()}}},b=function(s){console.log(s)},D=function(s,n,t){if(n===void 0||t===void 0){b("showIF not called, one of the elements is undefined");return}s?n.show():n.hide(),s?t.hide():t.show()},M=(s,n,t)=>{const e=[],i=()=>e.forEach(a=>a());if(t.type==="Layout"){if(!t.hasChild(n)){b(`FallBack is not a child of ${t}`);return}const a=n.id,y=Object.keys(t.children).map(Number).map(o=>o+1),p=()=>{y.forEach(o=>{if(o!==a){const c=document.getElementById("reckt-id-"+o);c&&(c.style.display="none")}})},h=()=>{n.hide(),y.forEach(o=>{if(o!==a){const c=document.getElementById("reckt-id-"+o);c&&(c.style.display="block")}})};p(),Promise.resolve(s()).then(()=>{h(),i()}).catch(()=>p())}else n.show(),t.hide(),Promise.resolve(s()).then(()=>{n.hide(),t.show(),i()}).catch(()=>{n.show(),t.hide()});return{effects:a=>e.push(a)}};r.$component=z,r.$createApp=I,r.$hashRouter=S,r.$layout=T,r.$localize=H,r.$setLanguage=O,r.$showIF=D,r.$signal=$,r.$store=F,r.$suspense=M,Object.defineProperty(r,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=reckt.umd.js.map
