{"version":3,"file":"rosana.cjs.js","sources":["../.src/+rosana.core.js","../.src/signals.js","../.src/localize.js","../.src/router.js","../.src/suspense.js"],"sourcesContent":["// rosana.js : A High Perfomance Framework\r\n//             To Write Functional Ui,\r\n//             Strongly Based on Signals.\r\n\r\n\"use strict\";\r\n\r\nexport const $uiControl = class {\r\n    constructor() {\r\n        /** @type {HTMLElement | null} */\r\n        this.element = null;\r\n\r\n        /** @type {Array<string>} */\r\n        this.elementClasses = [];\r\n\r\n        /** @type {Array<[string, Function]>} */\r\n        this.eventListeners = [];\r\n    }\r\n\r\n    /**\r\n     * Add a child element to this element.\r\n     * @param {$uiControl} child - The child component to add.\r\n     * @returns {this} - Returns the instance of the class for chaining.\r\n     */\r\n    addChild(child) {\r\n        if (child instanceof $uiControl && this.element) {\r\n            this.element.appendChild(child.element);\r\n        } else {\r\n            console.error(\"Mounted Child Is Not A Rosana Component\");\r\n        }\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Set the alignment of child elements in the control.\r\n     * @param {string} options - Alignment options.\r\n     */\r\n    set alignment(options) {\r\n        if (options) {\r\n            // @ts-ignore\r\n            optionsApi(this.element, options);\r\n        } else {\r\n            console.log(\"Alignment Options Undefined\");\r\n        }\r\n    }\r\n\r\n    /**\r\n     * batch dom api setters and getters effeciently\r\n     * @param {object} props\r\n     * @returns this\r\n     */\r\n    batch(props) {\r\n        Object.entries(props).forEach(([key, value]) => {\r\n            requestAnimationFrame(() => {\r\n                if (this.element) {\r\n                    this.element[key] = value;\r\n                }\r\n            });\r\n        });\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Add an event listener to the element.\r\n     * @param {string} event - The event type.\r\n     * @param {Function} handler - The event handler function.\r\n     * @returns {this} - Returns the instance of the class for chaining.\r\n     */\r\n    on(event, handler) {\r\n        this.element?.addEventListener(event, handler);\r\n        this.eventListeners.push([event, handler]);\r\n        return this;\r\n    }\r\n\r\n    css(styles) {\r\n        const className = cssParser(styles);\r\n        this.element?.classList.add(className);\r\n        this.elementClasses.push(className);\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Remove a child element from this element.\r\n     * @param {instanceOf<$uiControl>} child - The child component to remove.\r\n     * @returns {this} - Returns the instance of the class for chaining.\r\n     */\r\n    destroyChild(child) {\r\n        if (child instanceof $uiControl) {\r\n            child.eventListeners.forEach(([event, Fn]) => {\r\n                child.element?.removeEventListener(event, Fn);\r\n            });\r\n            child.element?.remove();\r\n        } else {\r\n            console.error(\"Child Is Not A Rosana Component\");\r\n        }\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Sets the visibility of the element.\r\n     * @param {boolean} bool - Visibility state.\r\n     */\r\n    show() {\r\n        this.css({ visibility: \"visible\" });\r\n    }\r\n\r\n    /**\r\n     * Hide the element\r\n     */\r\n    hide() {\r\n        this.css({ visibility: \"hidden\" });\r\n    }\r\n\r\n    /**\r\n     * Sets the display and visibility of the element.\r\n     * @param {boolean} bool - Visibility and space control state.\r\n     */\r\n    set gone(bool) {\r\n        this.css({\r\n            display: bool ? \"none !important\" : \"block\",\r\n            visibility: bool ? \"hidden\" : \"visible\",\r\n        });\r\n    }\r\n};\r\n\r\nlet idCount,\r\n    classnameCount = 0;\r\nfunction generateId() {\r\n    return `rosana-id-${idCount++}`;\r\n}\r\n\r\nfunction generateClassName() {\r\n    return `rosana-class-${classnameCount++}`;\r\n}\r\n\r\n/**\r\n * returns the system device theme, works in browser environment\r\n * @returns SystemTheme\r\n */\r\nexport const $sysTheme = function () {\r\n    const darkThemeMq = window.matchMedia(\"(prefers-color-scheme: dark)\");\r\n    if (darkThemeMq.matches) {\r\n        return \"dark\";\r\n    } else return \"light\";\r\n};\r\n\r\n/**\r\n * attach event listeners to the document body.\r\n * @param {HTMLEventListener} event\r\n * @param {Function} handlerFn\r\n */\r\nexport const $on = function (event, handlerFn) {\r\n    document.addEventListener(event, handlerFn);\r\n};\r\n\r\n/**\r\n * Add CSS properties, works with both template literals\r\n * and objects (like Emotion in React).\r\n * Automatically detects the type of\r\n * input and returns a class name.\r\n *\r\n * @param {TemplateStringsArray | object} styles - CSS styles as either a template literal or an object.\r\n * @param {...any} values - Optional values for template literals.\r\n * @returns {string} ClassName - The generated class name.\r\n */\r\n\r\nconst cssParser = (styles, ...values) => {\r\n    const className = generateClassName();\r\n    const styleSheet = document.styleSheets[0];\r\n\r\n    let cssString = \"\";\r\n\r\n    let nestedCssRules = [];\r\n    let mediaQueryRules = [];\r\n\r\n    const parseStyles = (styles, selector) => {\r\n        let baseStyles = \"\";\r\n        Object.entries(styles).forEach(([key, value]) => {\r\n            if (typeof value === \"object\") {\r\n                if (key.startsWith(\"@\")) {\r\n                    mediaQueryRules.push({\r\n                        media: key,\r\n                        selector,\r\n                        styles: value,\r\n                    });\r\n                } else if (key.startsWith(\"&:\")) {\r\n                    // Handle pseudo-classes prefixed with \"&:\"\r\n                    const pseudoClass = key.replace(\"&\", selector);\r\n                    nestedCssRules.push({\r\n                        selector: pseudoClass,\r\n                        styles: value,\r\n                    });\r\n                } else {\r\n                    // Handle other nested selectors\r\n                    nestedCssRules.push({\r\n                        selector: `${selector} ${key}`,\r\n                        styles: value,\r\n                    });\r\n                }\r\n            } else {\r\n                baseStyles += `${key.replace(/([A-Z])/g, \"-$1\").toLowerCase()}: ${value}; `;\r\n            }\r\n        });\r\n        return baseStyles;\r\n    };\r\n\r\n    // Check if 'styles' is a template literal or an object\r\n    if (typeof styles === \"object\" && !Array.isArray(styles)) {\r\n        // It's an object, so we parse it\r\n        cssString = parseStyles(styles, `.${className}`);\r\n    } else if (Array.isArray(styles)) {\r\n        // It's a template literal, combine strings and values into CSS string\r\n        cssString = styles.reduce((result, str, i) => {\r\n            return result + str + (values[i] || \"\");\r\n        }, \"\");\r\n    }\r\n\r\n    // Insert base class CSS rule\r\n    if (cssString) {\r\n        styleSheet.insertRule(`.${className} { ${cssString} }`, styleSheet.cssRules.length);\r\n    }\r\n\r\n    // Insert nested CSS rules\r\n    nestedCssRules.forEach(({ selector, styles }) => {\r\n        const nestedCssString = parseStyles(styles, selector);\r\n        if (nestedCssString) {\r\n            const rule = `${selector} { ${nestedCssString} }`;\r\n            styleSheet.insertRule(rule, styleSheet.cssRules.length);\r\n        }\r\n    });\r\n\r\n    // Insert media query rules\r\n    mediaQueryRules.forEach(({ media, selector, styles }) => {\r\n        const nestedCssString = parseStyles(styles, selector);\r\n        if (nestedCssString) {\r\n            const rule = `${media} { ${selector} { ${nestedCssString} } }`;\r\n            styleSheet.insertRule(rule, styleSheet.cssRules.length);\r\n        }\r\n    });\r\n\r\n    return className;\r\n};\r\n\r\nlet viewOptions = [\r\n    \"noscrollbar\",\r\n    \"scrollxy\",\r\n    \"scrollx\",\r\n    \"scrolly\",\r\n    \"top\",\r\n    \"bottom\",\r\n    \"left\",\r\n    \"right\",\r\n    \"horizontal\",\r\n    \"vertical\",\r\n    \"vcenter\",\r\n    \"center\",\r\n    \"fillxy\",\r\n    \"fillx\",\r\n    \"filly\",\r\n];\r\n\r\n/**\r\n *\r\n * @param {HTMLElement} element\r\n * @param {string} options\r\n */\r\nconst optionsApi = (element, options) => {\r\n    const functions = {\r\n        noscrollbar: () => {\r\n            element.classList.add(\"noscrollbar\");\r\n        },\r\n\r\n        fillxy: () => {\r\n            let className = cssParser({\r\n                width: \"100%\",\r\n                height: window.innerHeight + \"px\",\r\n            });\r\n            element.classList.add(className);\r\n        },\r\n\r\n        fillx: () => {\r\n            let className = cssParser({\r\n                width: \"100%\",\r\n            });\r\n            element.classList.add(className);\r\n        },\r\n\r\n        filly: () => {\r\n            let className = cssParser({\r\n                height: window.innerHeight + \"px\",\r\n            });\r\n            element.classList.add(className);\r\n        },\r\n\r\n        scrollxy: () => {\r\n            let className = cssParser({\r\n                overflow: \"auto\",\r\n            });\r\n            element.classList.add(className);\r\n        },\r\n        scrollx: () => {\r\n            let className = cssParser({\r\n                overflowX: \"auto\",\r\n            });\r\n            element.classList.add(className);\r\n        },\r\n        scrolly: () => {\r\n            let className = cssParser({\r\n                overflowY: \"auto\",\r\n            });\r\n            element.classList.add(className);\r\n        },\r\n        left: () => {\r\n            let className = cssParser({\r\n                display: \"flex\",\r\n                justifyContent: \"flex-start\",\r\n            });\r\n            element.classList.add(className);\r\n        },\r\n        right: () => {\r\n            let className = cssParser({\r\n                display: \"flex\",\r\n                justifyContent: \"flex-end\",\r\n            });\r\n            element.classList.add(className);\r\n        },\r\n        center: () => {\r\n            let className = cssParser({\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n                justifyContent: \"center\",\r\n            });\r\n            element.classList.add(className);\r\n        },\r\n        vcenter: () => {\r\n            let className = cssParser({\r\n                display: \"flex\",\r\n                justifyContent: \"center\",\r\n                alignItems: \"center\",\r\n            });\r\n            element.classList.add(className);\r\n        },\r\n        bottom: () => {\r\n            let className = cssParser({\r\n                display: \"flex\",\r\n                alignItems: \"flex-end\",\r\n            });\r\n            element.classList.add(className);\r\n        },\r\n        top: () => {\r\n            let className = cssParser({\r\n                display: \"flex\",\r\n                alignItems: \"flex-start\",\r\n            });\r\n            element.classList.add(className);\r\n        },\r\n        horizontal: () => {\r\n            let className = cssParser({\r\n                display: \"flex\",\r\n                flexDirection: \"row !important\",\r\n            });\r\n            element.classList.add(className);\r\n        },\r\n        vertical: () => {\r\n            let className = cssParser({\r\n                display: \"flex\",\r\n                flexDirection: \"column\",\r\n            });\r\n            element.classList.add(className);\r\n        },\r\n    };\r\n\r\n    options\r\n        .toLowerCase()\r\n        .replace(/\\s/g, \"\")\r\n        .split(\",\")\r\n        .forEach((el) => {\r\n            if (viewOptions.includes(el)) {\r\n                functions[el]();\r\n            } else {\r\n                console.error(`Unknown option: ${el}`);\r\n            }\r\n        });\r\n};\r\n\r\n/**\r\n * An internal api used by containers and elements, this\r\n * function adds css required for certain types of\r\n * layouts.\r\n * @param {HTMLElement} layout\r\n * @param {string} type\r\n * @param {string} options\r\n */\r\nfunction layoutFitApi(layout, type, options) {\r\n    options ? optionsApi(layout, options) : null;\r\n\r\n    let layoutTYPE = type.toLowerCase();\r\n\r\n    if (layoutTYPE == \"linear\") {\r\n        let className = cssParser({\r\n            display: \"inline-flex\",\r\n            position: \"relative !important\",\r\n            flexDirection: \"column !important\",\r\n        });\r\n        layout.classList.add(className);\r\n    } else if (layoutTYPE == \"absolute\") {\r\n        let className = cssParser({\r\n            display: \"flex\",\r\n        });\r\n        layout.classList.add(className);\r\n    } else console.error(\"Unknown Layout \", layout);\r\n}\r\n\r\nlet $layoutInitializer = class extends $uiControl {\r\n    constructor(type, options) {\r\n        super();\r\n\r\n        this.element = document.createElement(\"div\");\r\n        this.element.id = generateId();\r\n        this.element.type = \"Layout\";\r\n\r\n        type ? layoutFitApi(this.element, type, options) : null;\r\n    }\r\n};\r\n\r\nlet $componentInitalizer = class extends $uiControl {\r\n    constructor(tag, parent, props) {\r\n        super();\r\n        /** @type {HTMLElement} */\r\n        this.element = document.createElement(tag);\r\n        this.element.id = generateId();\r\n\r\n        Object.entries(props).forEach(([key, value]) => {\r\n            requestAnimationFrame(() => {\r\n                this.element[key] = value;\r\n            });\r\n        });\r\n\r\n        if (parent instanceof $uiControl) {\r\n            parent.addChild(this);\r\n        } else {\r\n            console.error(\"No Parent For Component To Attach To.\");\r\n            return;\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * creates a layout, it takes in child components.\r\n * @param {string} type - The type of container (e.g., 'div', 'section').\r\n * @param {string} options - Alignment options\r\n * @returns {HTMLDivElement}\r\n */\r\nexport const $layout = function (type = \"linear\", options = \"fillxy, vcenter\") {\r\n    return new $layoutInitializer(type, options);\r\n};\r\n\r\n/**\r\n * create a component\r\n * @param {HTMLElementTagNameMap} tag\r\n * @param {InstanceType<$uiControl>} parent\r\n * @param {Object} props\r\n */\r\nexport const $component = function (tag, parent, props = {}) {\r\n    return new $componentInitalizer(tag, parent, props);\r\n};\r\n\r\n/**\r\n * This function is used to attach the main component\r\n * of your app, so as to mount plugins\r\n * @param {Function} mainComponent\r\n * @returns app\r\n */\r\nexport const $createApp = function (mainComponent) {\r\n    const app = {\r\n        _rootComponent: mainComponent,\r\n        _plugins: [],\r\n\r\n        /**\r\n         * An Elements Id\r\n         * The provided string is queried so that the\r\n         * main component is appended to it.\r\n         * @param {string} selector\r\n         * @returns this\r\n         */\r\n        mount: function (selector) {\r\n            const container = document.querySelector(selector);\r\n            if (!container) {\r\n                console.error(`No element found for selector \"${selector}\"`);\r\n                return;\r\n            }\r\n\r\n            document.body.style.margin = \"0\";\r\n            document.body.style.width = \"100%\";\r\n\r\n            container.innerHTML = \"\";\r\n            const instance = this._rootComponent;\r\n            container.appendChild(instance.element);\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         *\r\n         * @param {Function} plugin\r\n         * @returns this\r\n         */\r\n        use(plugin) {\r\n            if (typeof plugin._install === \"function\") {\r\n                plugin._install(this);\r\n                this._plugins.push(plugin);\r\n            }\r\n            return this;\r\n        },\r\n    };\r\n    return app;\r\n};\r\n","/**\r\n * signal Method allows you to use plain signals, it takes in plain values and gives reactivity.\r\n * @param {any} defaultValue\r\n */\r\nexport const $signal = function (defaultValue = null) {\r\n    let internal_variable = defaultValue;\r\n    let subscriptions = [];\r\n\r\n    /**\r\n     * notify the user\r\n     * @param {Function} fn\r\n     */\r\n    const notify = function (fn) {\r\n        for (let subscriber of subscriptions) {\r\n            subscriber(internal_variable);\r\n        }\r\n    };\r\n    return {\r\n        /**\r\n         * set the signal's value\r\n         * @param {any} val\r\n         */\r\n        set value(val) {\r\n            internal_variable = val;\r\n            notify();\r\n        },\r\n\r\n        /**\r\n         * returns the signals value\r\n         * @returns internal_variable\r\n         */\r\n        get value() {\r\n            return internal_variable;\r\n        },\r\n\r\n        /**\r\n         * subscribe to the signal\r\n         * @param {Function} fn\r\n         */\r\n        subscribe: (fn) => {\r\n            subscriptions.push(fn);\r\n        },\r\n    };\r\n};\r\n\r\n/**\r\n * add a signal that takes in the defaultValue as an object\r\n * @param {Object} initialValue = {}\r\n */\r\nexport const $store = function (initialValue = {}) {\r\n    let state = { ...initialValue };\r\n    const listeners = new Set();\r\n\r\n    return {\r\n        /**\r\n         * set the signal's value\r\n         * @param {any} val\r\n         */\r\n        set(key, value) {\r\n            state[key] = value;\r\n            listeners.forEach((listener) => listener(state));\r\n        },\r\n\r\n        /**\r\n         * returns the signals value\r\n         * @returns internal_variable\r\n         */\r\n        get(key) {\r\n            return state[key];\r\n        },\r\n\r\n        /**\r\n         * subscribe to the signal\r\n         * @param {Function} fn\r\n         */\r\n        subscribe(listener) {\r\n            listeners.add(listener);\r\n            return () => listeners.delete(listener);\r\n        },\r\n    };\r\n};\r\n","import { $uiControl } from \"./+rosana.core.js\";\r\nimport { $signal } from \"./signals.js\";\r\n\r\nconst defaultLanguage = navigator.language || navigator.userLanguage;\r\nconst defaultLangCode = defaultLanguage.split(\"-\")[0];\r\nlet translations = {};\r\n\r\nlet currentLang;\r\n\r\nexport const $localize = async function (defaultLang = defaultLangCode, jsonSource) {\r\n    currentLang = $signal(defaultLang);\r\n\r\n    const response = await fetch(jsonSource);\r\n    if (!response.ok) {\r\n        console.log(\"Translation File Not Loaded\");\r\n        return;\r\n    }\r\n\r\n    const loadedTranslations = await response.json();\r\n    translations = { ...translations, ...loadedTranslations };\r\n};\r\n\r\nexport const $setLanguage = function (langCode) {\r\n    currentLang.value = langCode;\r\n};\r\n\r\nlet $localizedText = function (key, placeholders) {\r\n    if (!currentLang || !currentLang.value) {\r\n        return key;\r\n    }\r\n\r\n    const langData = translations[currentLang.value] || translations[defaultLangCode] || {};\r\n    let translation = langData[key] || key;\r\n    if (placeholders) {\r\n        Object.keys(placeholders).forEach((placeholder) => {\r\n            translation = translation.replace(`{${placeholder}}`, placeholders[placeholder]);\r\n        });\r\n    }\r\n    return translation;\r\n};\r\n\r\n/**\r\n * Set the text accordingly to the languageCode and provided keys\r\n * @param {object} localizingFn\r\n * @param {string} key\r\n * @param {object} placeholders\r\n */\r\n$uiControl.prototype.localizedText = async function (key, placeholders) {\r\n    if (!currentLang || !currentLang.value) {\r\n        return key;\r\n    }\r\n\r\n    const localizedText = await $localizedText(key, placeholders);\r\n\r\n    this.element.textContent = localizedText;\r\n\r\n    currentLang.subscribe(async () => {\r\n        const localizedText = await $localizedText(key, placeholders);\r\n        this.element.textContent = localizedText;\r\n    });\r\n};\r\n","// @ts-nocheck\r\n\r\n/**\r\n * Hash Based Router, Takes In Your Routes, Provided As a Dictionary\r\n * @param {Array<Object>} hashParam\r\n */\r\n\r\nexport const $hashRouter = function (hashParam) {\r\n    const plugin = {\r\n        routes: hashParam,\r\n        currentRoute: null,\r\n\r\n        _init: function () {\r\n            if (!window.location.hash) {\r\n                window.location.hash = `#index`;\r\n            } else this._handleHashChange();\r\n\r\n            window.onhashchange = this._handleHashChange.bind(this);\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * @param {any} app\r\n         */\r\n        _install: function (app) {\r\n            this._init();\r\n            app.router = this;\r\n        },\r\n\r\n        _render: function () {\r\n            const container = document.querySelector(\"#app\");\r\n            if (container) {\r\n                container.innerHTML = \"\";\r\n\r\n                // @ts-ignore\r\n                if (this.currentRoute && this.currentRoute.component) {\r\n                    // @ts-ignore\r\n                    container.appendChild(this.currentRoute.component.element);\r\n                } else console.error(\"No valid component found for route\");\r\n            }\r\n            return this;\r\n        },\r\n\r\n        _handleHashChange: function () {\r\n            const hash = window.location.hash.slice(1) || \"/\";\r\n\r\n            // @ts-ignore\r\n            const route = this.routes.find((r) => r.path === hash);\r\n\r\n            if (route) {\r\n                // @ts-ignore\r\n                this.currentRoute = route;\r\n                this._render();\r\n            } else console.error(`Route not found: ${hash}`);\r\n        },\r\n\r\n        /**\r\n         * which route to head to.\r\n         * @param {string} path\r\n         * @returns\r\n         */\r\n        navigate: function (path) {\r\n            // @ts-ignore\r\n            const route = this.routes.find((r) => r.path === path);\r\n            if (route) {\r\n                // @ts-ignore\r\n                this.currentRoute = route;\r\n                window.location.hash = path;\r\n                this._render();\r\n            } else console.error(`Route not found: ${path}`);\r\n\r\n            return this;\r\n        },\r\n\r\n        back: function () {\r\n            history.back();\r\n        },\r\n\r\n        forward: function () {\r\n            history.forward();\r\n        },\r\n    };\r\n    return plugin;\r\n};\r\n","/**\r\n * showIF method allows you to hide or show an element if the restingParameter is truthy\r\n * @param {Boolean} restingParameter\r\n * @param {instanceOf<$uiControl>} onTruthyElement\r\n * @param {instanceOf<$uiControl>} onFalseyElement\r\n */\r\nexport const $showIF = function (restingParameter, onTruthyElement, onFalseyElement) {\r\n    if (onTruthyElement === undefined || onFalseyElement === undefined) {\r\n        console.error(`showIF not called, one of the elements is undefined`);\r\n        return;\r\n    }\r\n    restingParameter ? onTruthyElement.show() : onTruthyElement.hide();\r\n    !restingParameter ? onFalseyElement.show() : onFalseyElement.hide();\r\n};\r\n\r\n/**\r\n * show a fallback view during an async operation, then swap it out when done.\r\n * @param {asyncFunction} resource\r\n * @param {instanceOf<$uiControl>} fallback\r\n * @param {instanceOf<$uiControl>} controlInSuspension\r\n */\r\nexport const $suspense = (resource, fallback, controlInSuspension) => {\r\n    const subscriptions = [];\r\n\r\n    const notify = () => subscriptions.forEach((subscriber) => subscriber());\r\n\r\n    if (fallback.type === \"Layout\" && controlInSuspension.type === \"Layout\") {\r\n        if (!controlInSuspension.hasChild(fallback)) {\r\n            console.error(`FallBack is not a child of ${controlInSuspension}`);\r\n            return;\r\n        }\r\n\r\n        ap.mount(fallback);\r\n\r\n        const showFallback = () => {\r\n            fallback.show();\r\n            controlInSuspension.hide();\r\n        };\r\n\r\n        const showSuspended = () => {\r\n            controlInSuspension.show();\r\n            fallback.hide();\r\n        };\r\n\r\n        showFallback();\r\n\r\n        Promise.resolve(resource())\r\n            .then(() => {\r\n                showSuspended();\r\n                notify();\r\n            })\r\n            .catch(() => showFallback());\r\n    } else {\r\n        console.error(\"suspense must be used with both containers as a layout\");\r\n    }\r\n    return {\r\n        /**\r\n         * call a function after the new view is added\r\n         * @param {Function} fn\r\n         */\r\n        effects: (fn) => subscriptions.push(fn),\r\n    };\r\n};\r\n"],"names":["$uiControl","child","options","optionsApi","props","key","value","event","handler","_a","styles","className","cssParser","Fn","bool","idCount","classnameCount","generateId","generateClassName","values","styleSheet","cssString","nestedCssRules","mediaQueryRules","parseStyles","selector","baseStyles","pseudoClass","result","str","i","nestedCssString","rule","media","viewOptions","element","functions","el","layoutFitApi","layout","type","layoutTYPE","$layoutInitializer","$componentInitalizer","tag","parent","$layout","$component","$createApp","mainComponent","container","instance","plugin","$signal","defaultValue","internal_variable","subscriptions","notify","fn","subscriber","val","$store","initialValue","state","listeners","listener","defaultLanguage","defaultLangCode","translations","currentLang","$localize","defaultLang","jsonSource","response","loadedTranslations","$setLanguage","langCode","$localizedText","placeholders","translation","placeholder","localizedText","$hashRouter","hashParam","app","hash","route","r","path","$showIF","restingParameter","onTruthyElement","onFalseyElement","$suspense","resource","fallback","controlInSuspension","showFallback","showSuspended"],"mappings":"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"}